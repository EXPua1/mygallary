import{a as C,S as b,i as m}from"./assets/vendor-b11e2a50.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&a(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerPolicy&&(e.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?e.credentials="include":n.crossOrigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function a(n){if(n.ep)return;n.ep=!0;const e=r(n);fetch(n.href,e)}})();const M="44853221-20be0a035158c611166c29677",x="https://pixabay.com/api/";async function S(t,i=1,r=15){const a=encodeURIComponent(t),n=`${x}?key=${M}&q=${a}&image_type=photo&orientation=horizontal&safesearch=true&page=${i}&per_page=${r}`;return C.get(n)}let $=new b(".gallery a",{captionsData:"alt",captionDelay:250,close:!0,nav:!0});function q(t){const i=document.querySelector(".gallery");t.forEach(r=>{const a=document.createElement("div");a.classList.add("card");const n=document.createElement("a");n.href=r.largeImageURL,n.title=r.tags;const e=document.createElement("img");e.src=r.webformatURL,e.alt=r.tags,n.appendChild(e);const o=document.createElement("div");o.classList.add("card-info"),o.innerHTML=`
      <p>Likes ${r.likes}</p>
      <p>Views ${r.views}</p>
      <p>Comments ${r.comments}</p>
      <p>Downloads ${r.downloads}</p>
    `,a.appendChild(n),a.appendChild(o),i.appendChild(a)}),$.refresh()}const y=document.querySelector(".gallery");function h(t="Sorry, there are no images matching your search query. Please try again!"){m.error({title:"Error",message:t,position:"topRight"})}function T(){m.info({title:"Внимание",message:"Введите текст для поиска изображений",position:"topRight"})}function w(){y.insertAdjacentHTML("afterbegin",'<div class="loader">Loading...</div>')}function H(){const t=y.querySelector(".loader");t&&t.parentNode.removeChild(t)}function I(){m.info({title:"Attention",message:"We're sorry, but you've reached the end of search results.",position:"topRight"})}const O=document.getElementById("searchForm"),f=document.querySelector(".search input"),L=document.querySelector(".gallery"),s=document.getElementById("pagination-container");let v="",l=!1,c=1;const d=15;let u=0,g=0;O.addEventListener("submit",t=>{if(t.preventDefault(),!l){if(f.value.trim()===""){T();return}l=!0,c=1,v=f.value.trim(),L.innerHTML="",s.innerHTML="",E()}});async function E(){try{w();const t=await S(v,c,d);if(u=t.data.totalHits,g=Math.ceil(u/d),t.data.hits.length===0){h(),f.value="";return}else q(t.data.hits),P(g,c),u<=c*d&&setTimeout(()=>{I()},500)}catch(t){console.error("Error during the search request:",t),h("An error occurred during the search.")}finally{H(),l=!1}}function P(t,i){s.innerHTML="";const r=5;let a=Math.max(1,i-Math.floor(r/2)),n=Math.min(t,a+r-1);if(n-a<r-1&&(a=Math.max(1,n-r+1)),a>1){const e=document.createElement("button");if(e.textContent="1",e.classList.add("page-button"),i===1&&e.classList.add("active"),e.addEventListener("click",()=>p(1)),s.appendChild(e),a>2){const o=document.createElement("span");o.textContent="...",s.appendChild(o)}}for(let e=a;e<=n;e++){const o=document.createElement("button");o.textContent=e,o.classList.add("page-button"),e===i&&o.classList.add("active"),o.addEventListener("click",()=>p(e)),s.appendChild(o)}if(n<t){if(n<t-1){const o=document.createElement("span");o.textContent="...",s.appendChild(o)}const e=document.createElement("button");e.textContent=t,e.classList.add("page-button"),t===i&&e.classList.add("active"),e.addEventListener("click",()=>p(t)),s.appendChild(e)}}function p(t){l||t===c||(c=t,L.innerHTML="",E())}document.addEventListener("touchstart",function(){},{passive:!0});document.addEventListener("touchmove",function(){},{passive:!0});
//# sourceMappingURL=commonHelpers.js.map
