{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixeabay-api.js","../src/js/render-fuction.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = '44853221-20be0a035158c611166c29677';\nconst apiUrl = 'https://pixabay.com/api/';\n\nexport default async function searchImage(query, page = 1, per_page = 15) {\n  const encodedQuery = encodeURIComponent(query);\n  const url = `${apiUrl}?key=${apiKey}&q=${encodedQuery}&image_type=photo&orientation=horizontal&safesearch=true&page=${page}&per_page=${per_page}`;\n\n  return axios.get(url);\n}\n","import SimpleLightbox from 'simplelightbox';\n// Дополнительный импорт стилей\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n// Инициализация SimpleLightbox\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  close: true,\n  nav: true,\n});\n\nexport default function createGallery(imagesData) {\n  const gallery = document.querySelector('.gallery');\n\n  // Loop through each image data and create corresponding HTML elements\n  imagesData.forEach(image => {\n    const card = document.createElement('div');\n    card.classList.add('card');\n\n    const link = document.createElement('a');\n    link.href = image.largeImageURL;\n    link.title = image.tags;\n\n    const img = document.createElement('img');\n    img.src = image.webformatURL;\n    img.alt = image.tags;\n\n    link.appendChild(img);\n\n    const cardInfo = document.createElement('div');\n    cardInfo.classList.add('card-info');\n    cardInfo.innerHTML = `\n      <p>Likes ${image.likes}</p>\n      <p>Views ${image.views}</p>\n      <p>Comments ${image.comments}</p>\n      <p>Downloads ${image.downloads}</p>\n    `;\n\n    card.appendChild(link);\n    card.appendChild(cardInfo);\n\n    gallery.appendChild(card);\n  });\n\n  // Update lightbox after adding new elements\n  lightbox.refresh();\n}\n","import searchImage from './js/pixeabay-api';\nimport createGallery from './js/render-fuction';\nconst searchForm = document.getElementById('searchForm');\nconst input = document.querySelector('.search input');\nconst gallery = document.querySelector('.gallery');\nconst buttonContainer = document.getElementById('button-container');\n\nlet currentQuery = '';\nlet page = 1;\nconst perPage = 15;\nlet totalHits = 0;\nsearchForm.addEventListener('submit', event => {\n  event.preventDefault();\n  currentQuery = input.value.trim();\n  searchImages();\n});\n\nasync function searchImages() {\n  try {\n    const response = await searchImage(currentQuery, page, perPage);\n    totalHits = response.data.totalHits;\n    if (response.data.hits.length === 0) {\n      alert('ooops');\n      input.value = ''; // Clear input field on no results\n      return;\n    } else {\n      createGallery(response.data.hits);\n    }\n  } catch (error) {\n    console.error('Error during the search request:', error);\n  }\n}\n"],"names":["apiKey","apiUrl","searchImage","query","page","per_page","encodedQuery","url","axios","lightbox","SimpleLightbox","createGallery","imagesData","gallery","image","card","link","img","cardInfo","searchForm","input","currentQuery","perPage","totalHits","event","searchImages","response","error"],"mappings":"6vBAEA,MAAMA,EAAS,qCACTC,EAAS,2BAEA,eAAeC,EAAYC,EAAOC,EAAO,EAAGC,EAAW,GAAI,CACxE,MAAMC,EAAe,mBAAmBH,CAAK,EACvCI,EAAM,GAAGN,CAAM,QAAQD,CAAM,MAAMM,CAAY,iEAAiEF,CAAI,aAAaC,CAAQ,GAE/I,OAAOG,EAAM,IAAID,CAAG,CACtB,CCLA,IAAIE,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,IACd,MAAO,GACP,IAAK,EACP,CAAC,EAEc,SAASC,EAAcC,EAAY,CAChD,MAAMC,EAAU,SAAS,cAAc,UAAU,EAGjDD,EAAW,QAAQE,GAAS,CAC1B,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAO,SAAS,cAAc,GAAG,EACvCA,EAAK,KAAOF,EAAM,cAClBE,EAAK,MAAQF,EAAM,KAEnB,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAK,YAAYC,CAAG,EAEpB,MAAMC,EAAW,SAAS,cAAc,KAAK,EAC7CA,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,UAAY;AAAA,iBACRJ,EAAM,KAAK;AAAA,iBACXA,EAAM,KAAK;AAAA,oBACRA,EAAM,QAAQ;AAAA,qBACbA,EAAM,SAAS;AAAA,MAGhCC,EAAK,YAAYC,CAAI,EACrBD,EAAK,YAAYG,CAAQ,EAEzBL,EAAQ,YAAYE,CAAI,CAC5B,CAAG,EAGDN,EAAS,QAAO,CAClB,CC7CA,MAAMU,EAAa,SAAS,eAAe,YAAY,EACjDC,EAAQ,SAAS,cAAc,eAAe,EACpC,SAAS,cAAc,UAAU,EACzB,SAAS,eAAe,kBAAkB,EAElE,IAAIC,EAAe,GACfjB,EAAO,EACX,MAAMkB,EAAU,GAChB,IAAIC,EAAY,EAChBJ,EAAW,iBAAiB,SAAUK,GAAS,CAC7CA,EAAM,eAAc,EACpBH,EAAeD,EAAM,MAAM,OAC3BK,GACF,CAAC,EAED,eAAeA,GAAe,CAC5B,GAAI,CACF,MAAMC,EAAW,MAAMxB,EAAYmB,EAAcjB,EAAMkB,CAAO,EAE9D,GADAC,EAAYG,EAAS,KAAK,UACtBA,EAAS,KAAK,KAAK,SAAW,EAAG,CACnC,MAAM,OAAO,EACbN,EAAM,MAAQ,GACd,MACN,MACMT,EAAce,EAAS,KAAK,IAAI,CAEnC,OAAQC,EAAO,CACd,QAAQ,MAAM,mCAAoCA,CAAK,CACxD,CACH"}